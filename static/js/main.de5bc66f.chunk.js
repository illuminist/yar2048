(this.webpackJsonpyar2048=this.webpackJsonpyar2048||[]).push([[0],{181:function(e,t,n){e.exports=n(311)},186:function(e,t,n){},197:function(e,t){},311:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(8),i=n.n(r),c=(n(186),n(13)),l=n(20),s=n(18),u=n(47),d=n(15),m=n.n(d),f=n(154),p=n.n(f),v=Object(l.b)("newGame",(function(e){return{payload:{boardSize:e.boardSize||4,startSeed:e.seed||Date.now().toString(36),startTime:Date.now()}}})),b=Object(l.b)("move",(function(e,t,n){return{payload:e,meta:{board:t,noGen:(null===n||void 0===n?void 0:n.noGen)||!1}}})),h=Object(l.b)("addpiece",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{boardSize:4},t=arguments.length>1?arguments[1]:void 0;return{payload:void 0,meta:{board:e,noGen:(null===t||void 0===t?void 0:t.noGen)||!1}}})),g=Object(l.c)([],(function(e){return e.addCase(b,(function(e,t){var n=t.payload,o=t.meta,a=((null===o||void 0===o?void 0:o.board)||{}).boardSize,r=void 0===a?4:a,i="up"===n||"down"===n?0:1,c=0===i?1:0,l="up"===n||"left"===n?1:-1;m.a.pullAllBy(e,[{removed:!0}],"removed");var s=m.a.groupBy(e,(function(e){return e.position[i]}));m.a.mapValues(s,(function(e){var t=e.sort((function(e,t){var n=e.position,o=t.position;return l*(n[c]-o[c])})),n=[],o=l>0?0:r-1;t.forEach((function(e){var t=e.position,a=e.score,r=m.a.cloneDeep(t);(l>0?t[c]>o:t[c]<o)?n[o]&&n[o].score===a?(n[o].score+=a,e.removed=!0,e.moved={combine:n[o].id,from:r},e.position[c]=o,o+=l):n[o]?(o+=l,e.position[c]!==o?(e.position[c]=o,e.moved={from:r}):delete e.moved,n[o]=e):(e.position[c]=o,e.moved={from:r},n[o]=e):(e.position=r,n[o]=e,delete e.moved)}))}))})).addCase(h,(function(e,t){var n,o=t.meta,a=o.board.boardSize,r=(n=o.board,console.log(JSON.stringify(m.a.omit(n,"startTime"))),p()(JSON.stringify(m.a.omit(n,"startTime")))),i=new Set(e.filter((function(e){return!e.removed})).map((function(e){return JSON.stringify(e.position)}))),c=new Set(m.a.flatMap(m.a.times(a,(function(e){return m.a.times(a,(function(t){return JSON.stringify([e,t])}))}))));i.forEach((function(e){return c.delete(e)}));var l=Array.from(c.values()),s=Math.min(l.length,1+Math.floor(l.length/8));m.a.times(s,(function(){var t=Math.floor(r()*l.length),n=l.splice(t,1),o=[2,2,4];e.push({id:Math.floor(r()*Number.MAX_SAFE_INTEGER).toString(36),position:JSON.parse(n[0]),score:o[Math.floor(r()*o.length)],moved:{from:null}})}))}))})),E=function(e){return["left","right","up","down"].filter((function(t){return g(e.pieces,{type:"move",payload:t,meta:{board:e}}).some((function(e){var t;return null===(t=e.moved)||void 0===t?void 0:t.from}))}))},w=Object(l.d)({name:"board",initialState:{boardSize:4,startTime:0,pieces:[],moveHistory:[],nextValidMoves:[],startSeed:null,moveCount:0,ended:!1},reducers:{},extraReducers:function(e){return e.addCase(v,(function(e,t){var n=t.payload,o={startTime:n.startTime,boardSize:n.boardSize,startSeed:n.startSeed,moveCount:0,pieces:[],nextValidMoves:[],moveHistory:[],ended:!1};return o.pieces=g(o.pieces,h(o)),o.nextValidMoves=E(o),o})).addCase(b,(function(e,t){e.pieces=g(m.a.cloneDeep(e.pieces),Object(u.a)({},t,{meta:{board:e}}));var n=e.pieces.some((function(e){var t;return null===(t=e.moved)||void 0===t?void 0:t.from}));e.pieces.forEach((function(e){var t;return console.log(e.id,e.position,null===(t=e.moved)||void 0===t?void 0:t.from)})),console.log(n),n&&!t.meta.noGen&&(e.pieces=g(e.pieces,h(e))),n&&(e.moveHistory.push(t.payload),e.moveCount++),e.nextValidMoves=E(m.a.cloneDeep(e))}))}}),y=n(115),S=n(155),O=n.n(S),N=Object(l.d)({name:"settings",initialState:{animation:!0},reducers:{set:{prepare:function(e,t){return{payload:{name:e,value:t}}},reducer:function(e,t){var n=t.payload;e[n.name]=n.value}}}}),C={key:"game",storage:O.a},x=Object(l.a)({reducer:Object(y.a)(C,Object(s.c)({board:w.reducer,settings:N.reducer})),preloadedState:{board:{}}}),R=Object(y.b)(x),T=x,k=n(19),A=n(12),j=n.n(A),I=n(27),L=n(156),M=n.n(L),B=n(371),P=function(e,t){return Object(B.a)(e,M()(t,"name"))},D=P((function(e){return{root:{display:"flex",flexDirection:"column"},boardContainer:Object(I.a)({position:"relative",alignSelf:"center",maxWidth:"calc(100vw - 32px)",width:function(e){var t=e.boardSize;return t*(120-10*(t-4))}},e.breakpoints.down("xs"),{width:"100%"}),board:{width:"100%"},debugCanvas:{position:"absolute",top:0,zIndex:15},dragControl:{position:"absolute",top:0,width:"100%",height:"100%"}}}),{name:"Game",index:1}),z=n(346),H=P((function(e){return{root:{},cell:{paddingBottom:function(e){var t=e.boardSize;return"".concat(100/t,"%")},backgroundColor:z.a.A100,borderRadius:8},cellInner:{position:"absolute"}}}),{name:"Board",index:1}),F=o.forwardRef((function(e,t){var n=e.className,a=e.cellRefs,r=Object(c.c)((function(e){return e.board.boardSize})),i=H({boardSize:r});return o.createElement("table",{ref:t,className:j()(n,i.root)},o.createElement("tbody",null,m.a.times(r,(function(e){return o.createElement("tr",{key:"row-"+e},m.a.times(r,(function(t){return o.createElement("td",{key:"col-"+t,className:i.cell,"data-col":t,"data-row":e,ref:a(t,e)},o.createElement("span",{className:i.cellInner}))})))}))))}));F.defaultProps={};var W=F,G=n(112),U=n.n(G),V=n(157),Y=n.n(V);var J=function(){var e=o.useRef();return o.useCallback((function(t,n){return U()(e,["current",t,n])||Y()(e,["current",t,n],{current:null},Object),U()(e,["current",t,n])}),[])},_=n(158),X=n.n(_),$=n(347),q=n(90),K=n(91),Q=n(92),Z=n(348),ee=n(93),te=n(94),ne=n(349),oe=n(350),ae=n(95),re=n(351),ie=[300,500,700],ce=[$.a,q.a,K.a,Q.a,Z.a,ee.a,te.a,ne.a,oe.a,ae.a,re.a].flatMap((function(e){return ie.map((function(t){return e[t]}))})),le=function(e){var t=Math.log2(e);return ce[Math.floor(t%ce.length)]},se=P((function(e){return{root:{position:"absolute",backgroundColor:function(e){var t=e.score;return le(t)},color:function(t){var n=t.score;return e.palette.getContrastText(le(n))},borderRadius:8,zIndex:2,transition:function(t){return t.animation?e.transitions.create(["background-color","color"]):"none"}},removed:{zIndex:1},scoreText:{color:"inherit",fontSize:function(e){return e.score<1e3?48:36},position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}),{name:"Piece",index:1}),ue=n(352),de=n(28),me=n(114),fe={isDragging:!1,direction:null},pe=Object(l.d)({name:"dragcontrol",initialState:fe,reducers:{dragStart:function(e){e.isDragging=!0},dragEnd:function(e){e.isDragging=!1,e.direction=null},changeDirection:function(e,t){e.direction=t.payload}}}),ve=a.a.createContext((function(){})),be=a.a.createContext(fe),he=pe.actions,ge=he.dragStart,Ee=he.dragEnd,we=he.changeDirection,ye=function(e){var t=e.children,n=a.a.useReducer(pe.reducer,fe),o=Object(k.a)(n,2),r=o[0],i=o[1];return a.a.createElement(ve.Provider,{value:i},a.a.createElement(be.Provider,{value:r},t))},Se=Object(de.a)((function(e){return e.board.pieces}),(function(e){return m.a.keyBy(e,"id")})),Oe={top:0,left:0,width:0,height:0},Ne=function(e){var t,n,r=e.className,i=e.id,l=e.tableEl,s=e.cellRefMap,d=e.debugCanvasContext,m=e.tableWidth,f=Object(c.c)((function(e){return Se(e)[i]})),p=Object(c.c)((function(e){return e.settings.animation})),v=se({score:f.score,animation:p}),b=o.useState(Oe),h=Object(k.a)(b,2),g=h[0],E=h[1],w=o.useState(Oe),y=Object(k.a)(w,2),S=y[0],O=y[1],N=a.a.useContext(be),C=N.isDragging,x=N.direction,R=function(e){var t=l;if(e&&t){var n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return{top:n.top-o.top,left:n.left-o.left,width:n.width,height:n.height}}return Oe};o.useLayoutEffect((function(){var e=s(f.position[0],f.position[1]).current,t=l;if(e&&t){var n,o=e.getBoundingClientRect(),a=t.getBoundingClientRect();E(R(e));var r=null===(n=f.moved)||void 0===n?void 0:n.from;if(r){var i=s(r[0],r[1]);O(R(i.current))}if(d&&f.moved){var c=parseInt(f.id,36)%40,u=[o.left-a.left+o.width/2+c,o.top-a.top+o.height/2+c];if(r){var m=s(r[0],r[1]).current.getBoundingClientRect(),p=[m.left-a.left+m.width/2+c,m.top-a.top+m.height/2+c];d.lineCap="round",d.beginPath(),d.moveTo.apply(d,p),d.lineTo.apply(d,u),f.removed&&d.lineTo(u[0]+20,u[1]+20),d.stroke()}else null===r&&d.fillText.apply(d,["A"].concat(u))}}}),[f.id,f.position,f.moved,f.removed,m,d,l]);var T=Object(me.b)({from:null===(null===(t=f.moved)||void 0===t?void 0:t.from)?Object(u.a)({},g,{width:0,height:0}):S,to:C?Object(u.a)({},g,{top:g.top-10+("up"===x?-20:"down"===x?20:0),left:g.left+("left"===x?-20:"right"===x?20:0)}):g,delay:null===(null===(n=f.moved)||void 0===n?void 0:n.from)?100:0,config:{mass:1,tension:300,friction:26}});return o.createElement(ue.a,{elevation:0,component:me.a.div,className:j()(r,v.root,Object(I.a)({},v.removed,f.removed)),style:p?T:g},o.createElement("span",{className:v.scoreText},f.score>2048?X()(f.score).format("0a"):f.score))};Ne.defaultProps={};var Ce=Ne,xe=P((function(e){return{root:{userSelect:"none",zIndex:20,cursor:"pointer",touchAction:"none"}}}),{name:"DragControl",index:1}),Re={ArrowLeft:"left",ArrowUp:"up",ArrowDown:"down",ArrowRight:"right"},Te=function(e){var t=xe(e),n=e.className,r=Object(c.b)(),i=a.a.useContext(ve),l=o.useState(null),s=Object(k.a)(l,2),u=s[0],d=s[1],m=o.useState(null),f=Object(k.a)(m,2),p=f[0],v=f[1],h=o.useState(!1),g=Object(k.a)(h,2),E=g[0],w=g[1],y=Object(c.c)((function(e){return e.board.nextValidMoves}));o.useEffect((function(){var e=null,t=function(t){var n=Re[t.key];n&&(t.preventDefault(),e=n)},n=function(t){var n=Re[t.key];n&&e===n&&y.includes(e)?r(b(n)):e=null};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n)}}),[E,y]);var S=o.useCallback((function(e){if(u){var t="touches"in e?e.touches[0]:e,n=t.clientX-u.x,o=t.clientY-u.y;if(Math.sqrt(n*n+o*o)>60){var a=Math.atan2(o,n),r=Math.abs(a)<.25*Math.PI?"right":Math.abs(a)>.75*Math.PI?"left":a<0?"up":"down";y.includes(r)?(v(r),i(we(r))):(v(null),i(we(null)))}else v(null),i(we(null))}}),[u,y]),O=function(e){if(y.length>0){var t="touches"in e?e.touches[0]:e;d({x:t.clientX,y:t.clientY}),i(ge())}},N=o.useCallback((function(){p&&r(b(p)),i(Ee()),d(null),v(null)}),[p]);return o.useEffect((function(){if(u)return window.addEventListener("mousemove",S),window.addEventListener("touchmove",S),window.addEventListener("mouseup",N),window.addEventListener("touchend",N),function(){window.removeEventListener("mousemove",S),window.removeEventListener("touchmove",S),window.removeEventListener("mouseup",N),window.removeEventListener("touchend",N)}}),[u,S,N]),o.createElement("div",{tabIndex:0,className:j()(n,t.root),onFocus:function(){return w(!0)},onBlur:function(){return w(!1)},onMouseDown:O,onMouseMove:S,onMouseUp:N,onTouchStart:O,onTouchMove:S,onTouchEnd:N})};Te.defaultProps={};var ke=Te,Ae=n(364),je=n(96),Ie=P((function(e){return{root:{}}}),{name:"BottomToolbar",index:1}),Le=n(361),Me=n(358),Be=P((function(e){return{root:{}}}),{name:"NewGameButton",index:1}),Pe=n(353),De=n(373),ze=n(355),He=n(357),Fe=n(354),We=n(368),Ge=n(356),Ue=n(70),Ve={boardSize:4,seed:""},Ye=function(e){var t=Be(e),n=e.className,a=o.useState(!1),r=Object(k.a)(a,2),i=r[0],l=r[1],s=o.useCallback((function(){return l(!1)}),[]),u=o.useCallback((function(){return l(!0)}),[]),d=Object(c.b)();return o.createElement(o.Fragment,null,o.createElement(Pe.a,{className:j()(n,t.root),color:"primary",variant:"contained",onClick:u},"New Game"),o.createElement(De.a,{open:i,onClose:s},o.createElement(Ue.c,{initialValues:Ve,onSubmit:function(e,t){d(v(e)),s()}},o.createElement(Ue.b,null,o.createElement(Fe.a,null,"Create a new game"),o.createElement(ze.a,null,o.createElement(Ge.a,null,o.createElement(Ue.a,{required:!0,as:We.a,name:"boardSize",label:"Board size",type:"number",margin:"normal",variant:"outlined",inputProps:{min:4,max:10,pattern:/\d*/}}),o.createElement(Ue.a,{as:We.a,name:"seed",label:"Seed",margin:"normal",variant:"outlined",helperText:"Left blank for random seed"}))),o.createElement(He.a,null,o.createElement(Pe.a,{color:"primary",onClick:s},"Close"),o.createElement(Pe.a,{variant:"contained",color:"primary",type:"submit"},"Create"))))))};Ye.defaultProps={};var Je=Ye,_e=n(372),Xe=n(362),$e=P((function(e){return{root:{}}}),{name:"HelpDialogButton",index:1}),qe=n(359),Ke=n(360),Qe=n(161),Ze=n.n(Qe),et=n(168),tt=P((function(e){return{root:{}}}),{name:"ExternalLink",index:1}),nt=function(e){var t=tt(e),n=e.className,a=e.component,r=void 0===a?"a":a,i=e.children,c=Object(et.a)(e,["className","component","children"]);return o.createElement(r,Object.assign({className:j()(n,t.root),target:"_blank",rel:"noopener noreferrer"},c),i)};nt.defaultProps={};var ot=nt,at="https://github.com/illuminist",rt="https://github.com/illuminist/yar2048",it=function(e){var t=$e(e),n=e.className,a=o.useState(!1),r=Object(k.a)(a,2),i=r[0],c=r[1],l=o.useCallback((function(){return c(!1)}),[]),s=o.useCallback((function(){return c(!0)}),[]);return o.createElement(o.Fragment,null,o.createElement(Me.a,{className:j()(n,t.root),onClick:s},o.createElement(Ze.a,null)),o.createElement(De.a,{open:i,onClose:l},o.createElement(Fe.a,null,"Yet Another React 2048"),o.createElement(ze.a,null,o.createElement(qe.a,null,o.createElement(je.a,{variant:"body2",gutterBottom:!0},"Created by"," ",o.createElement(ot,{component:Ke.a,href:at},"Witsarut Sawetkanit"),". Based on"," ",o.createElement(ot,{component:Ke.a,href:"https://itunes.apple.com/us/app/1024!/id823499224"},"1024 by Veewo Studio")," ","and conceptually similar to"," ",o.createElement(ot,{component:Ke.a,href:"http://asherv.com/threes/"},"Threes by Asher Vollmer"),".",o.createElement("br",null),o.createElement("br",null),o.createElement(ot,{component:Ke.a,href:rt},"Github repository")),o.createElement(je.a,{variant:"h5",gutterBottom:!0},"Rules and how to play"),o.createElement(je.a,{variant:"body1",gutterBottom:!0},"Use keyboard's arrow keys, mouse click and drag, or touch drag to slide tile pieces in 4 directions: up, down, left, and right. Each tile piece has score on it, sliding them into another tile piece with same score will combine both tile piece together.",o.createElement("br",null),o.createElement("br",null),"Try to reach a piece with 2048 score and so on!"),o.createElement(je.a,{variant:"h5",gutterBottom:!0},"Privacy policy"),o.createElement(je.a,{variant:"body2",gutterBottom:!0},"No personal infomation is collected and send to the server. No cookie use. Only infomation is your game saved data that will be stored on your web browser's local storage and never sent to any third-party or us. This piece of data allow you to continue your game from where you left off.",o.createElement("br",null),o.createElement("br",null),"This policy is subjected to be changed in future."),o.createElement(je.a,{variant:"h5",gutterBottom:!0},"MIT License"),o.createElement(je.a,{variant:"body2",gutterBottom:!0},"Copyright 2020 \xa9 Witsarut Sawetkanit (",o.createElement(ot,{component:Ke.a,href:at},at),")",o.createElement("br",null),o.createElement("br",null),'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:',o.createElement("ul",null,o.createElement("li",null,"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.")),'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'),o.createElement(je.a,{variant:"h6",gutterBottom:!0},"Addition notes"),o.createElement(je.a,{variant:"body2",gutterBottom:!0},"I wrote the policy myself, without any back about law and management knowledge, and my primary language isn't English. If you find any improvement and willing to help me to improve policy document, feel free to open an issue or pull request on"," ",o.createElement(ot,{component:Ke.a,href:rt},"github repository page"),"."))),o.createElement(He.a,null,o.createElement(Pe.a,{onClick:l},"Close"))))};it.defaultProps={};var ct=it,lt=P((function(e){return{root:{}}}),{name:"GithubLogo",index:1}),st=n(88),ut=function(e){var t=lt(e),n=e.className;return o.createElement(st.a,{className:j()(n,t.root),version:"1.2",baseProfile:"tiny",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2350 2314.8"},o.createElement("path",{d:"M1175,0C525.8,0,0,525.8,0,1175c0,552.2,378.9,1010.5,890.1,1139.7c-5.9-14.7-8.8-35.3-8.8-55.8v-199.8H734.4 c-79.3,0-152.8-35.2-185.1-99.9c-38.2-70.5-44.1-179.2-141-246.8c-29.4-23.5-5.9-47,26.4-44.1c61.7,17.6,111.6,58.8,158.6,120.4 c47,61.7,67.6,76.4,155.7,76.4c41.1,0,105.7-2.9,164.5-11.8c32.3-82.3,88.1-155.7,155.7-190.9c-393.6-47-581.6-240.9-581.6-505.3 c0-114.6,49.9-223.3,132.2-317.3c-26.4-91.1-61.7-279.1,11.8-352.5c176.3,0,282,114.6,308.4,143.9c88.1-29.4,185.1-47,284.9-47 c102.8,0,196.8,17.6,284.9,47c26.4-29.4,132.2-143.9,308.4-143.9c70.5,70.5,38.2,261.4,8.8,352.5c82.3,91.1,129.3,202.7,129.3,317.3 c0,264.4-185.1,458.3-575.7,499.4c108.7,55.8,185.1,214.4,185.1,331.9V2256c0,8.8-2.9,17.6-2.9,26.4 C2021,2123.8,2350,1689.1,2350,1175C2350,525.8,1824.2,0,1175,0L1175,0z"}))};ut.defaultProps={};var dt=ut,mt=function(e){var t=Ie(e),n=e.className,a=Object(c.b)(),r=Object(c.c)((function(e){return e.settings}));return o.createElement(Le.a,{className:j()(n,t.root),disableGutters:!0},o.createElement(Je,null),o.createElement(ct,null),o.createElement(Me.a,{component:ot,edge:"start",href:"#"},o.createElement(dt,null)),o.createElement(Xe.a,{label:"Animation",control:o.createElement(_e.a,{checked:r.animation,onChange:function(e){return a(N.actions.set("animation",e.target.checked))}})}))};mt.defaultProps={};var ft=mt,pt=n(162),vt=n.n(pt),bt=n(163),ht=new WeakMap,gt=function(e,t){var n=o.useRef(t);n.current=t,o.useEffect((function(){if(e){if(!ht.has(e)){var t=new bt.a(vt()((function(t,n){var o=ht.get(e);o&&r.unstable_batchedUpdates((function(){t.forEach((function(e){return o.callback.forEach((function(t){return t(e,n)}))}))}))}),100,{leading:!1}));t.observe(e),ht.set(e,{callback:new Set,off:function(){t.unobserve(e)}})}var o=ht.get(e),a=function(e,t){n.current(e,t)};return o.callback.add(a),function(){var t=ht.get(e);t.callback.delete(a),t.callback.size||(t.off(),ht.delete(e))}}}),[e])},Et=n(363),wt=function(e){var t,n,a=e.className,r=o.useRef(null),i=J(),l=Object(c.c)((function(e){return e.board.pieces})),s=Object(c.c)((function(e){return e.board})).boardSize,u=D({boardSize:s}),d=Object(c.b)(),m=o.useRef(null);null===(t=m.current)||void 0===t||null===(n=t.getContext("2d"))||void 0===n||n.clearRect(0,0,m.current.width,m.current.height),o.useLayoutEffect((function(){l||d(v({boardSize:4}))}),[l]);var f=o.useState(0),p=Object(k.a)(f,2),b=p[0],h=p[1];gt(r.current,(function(e){console.log(e.contentRect.width),h(e.contentRect.width)})),o.useLayoutEffect((function(){var e=r.current;e&&h(e.getBoundingClientRect().width)}),[r.current]);var g=Object(Et.a)((function(e){return e.breakpoints.down("xs")}));return l?o.createElement(ye,null,o.createElement(Ae.a,{className:j()(a,u.root),maxWidth:"md"},o.createElement(je.a,{variant:g?"h2":"h1"},"YAR2048"),o.createElement(je.a,{variant:"caption",gutterBottom:!0},"Yet Another React 2048"),o.createElement("div",{className:u.boardContainer},o.createElement(W,{className:u.board,ref:r,cellRefs:i}),l.map((function(e){var t,n=e.id;return o.createElement(Ce,{id:n,cellRefMap:i,tableEl:r.current,tableWidth:b,debugCanvasContext:(null===(t=m.current)||void 0===t?void 0:t.getContext("2d"))||void 0,key:n})})),!1,o.createElement(ke,{className:u.dragControl})),o.createElement(ft,null))):null};wt.defaultProps={};var yt=wt,St=n(367),Ot=n(167),Nt=n(345),Ct=n(369),xt=n(366),Rt=n(164),Tt=n.n(Rt),kt=n(365),At={row:{justifyContent:"center"},column:{alignItems:"center"}},jt='Kanit, Sarabun, Prompt, "Roboto", "Helvetica", "Arial", sans-serif',It='Sarabun, Prompt, "Roboto", "Helvetica", "Arial", sans-serif',Lt={palette:{background:{},type:"dark",primary:kt.a,secondary:K.a},mixins:{flex:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"column",t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object(u.a)({display:"flex",flexDirection:e},n.includes("center")?At[e]:{},{},n.includes("wrap")?{flexWrap:"wrap"}:{})},imageAvatar:function(){return{borderRadius:"12%"}},mixBackgroundColor:function(e,t){return{backgroundColor:t,color:e.palette.getContrastText(t)}}},drawer:{width:240},main:{width:720},sidebar:{width:300,flex:"0 0 300px"},typography:{fontSize:14,fontFamily:It,sansFonts:jt,serifFonts:It,h1:{fontFamily:jt},h2:{fontFamily:jt},h3:{fontFamily:jt},h4:{fontFamily:jt},h5:{fontFamily:jt},h6:{fontFamily:jt}}},Mt=(Tt()(Lt),n(165)),Bt=function(e,t){return"translate(".concat(50*e,"px, ").concat(54*t,"px)")},Pt=P((function(e){return{root:{display:"flex",position:"absolute",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",flexDirection:"column"},boardContainer:{position:"relative"},loadingText:{textAlign:"center"},board:{width:200},piece:{width:"48px !important",height:"48px !important",marginTop:2,marginRight:2,animationTimingFunction:"ease",animationDuration:"3s",animationDelay:"0.2s",animationIterationCount:"infinite"},piece1:{animationName:"$pieceAnim1"},piece2:{animationName:"$pieceAnim2"},piece3:{animationName:"$pieceAnim3"},"@keyframes pieceAnim1":{"0%":{transform:Bt(0,0)},"25%":{transform:Bt(2,0)},"50%":{transform:Bt(2,2)},"75%":{transform:Bt(0,2)}},"@keyframes pieceAnim2":{"0%":{transform:Bt(1,1)},"25%":{transform:Bt(2,1)},"50%":{transform:Bt(2,3)},"75%":{transform:Bt(1,3)},"100%":{transform:Bt(1,1)}},"@keyframes pieceAnim3":{"0%":{transform:Bt(2,0)},"25%":{transform:Bt(3,0)},"50%":{transform:Bt(3,3)},"75%":{transform:Bt(2,3)},"100%":{transform:Bt(2,0)}}}}),{name:"EntryLoading",index:1}),Dt=[{id:"1",position:[0,0],score:2},{id:"2",position:[0,0],score:4},{id:"3",position:[0,0],score:8}],zt=Object(l.a)({reducer:Object(s.c)({board:w.reducer,settings:N.reducer}),preloadedState:{board:{boardSize:4,pieces:Dt},settings:{animation:!1}},devTools:!1}),Ht=function(e){var t=Pt(e),n=(e.className,o.useRef(null)),a=J();return console.log(n),o.createElement(c.a,{store:zt},o.createElement("div",{className:t.root},o.createElement("div",{className:t.boardContainer},o.createElement(W,{ref:n,cellRefs:a,className:t.board}),Dt.map((function(e){var r=e.id;return o.createElement(Ce,{className:j()(t.piece,t["piece"+r]),tableEl:n.current,key:r,id:r,cellRefMap:a})}))),o.createElement(je.a,{className:t.loadingText,variant:"h6"},"Now Loading...")))};Ht.defaultProps={};var Ft=Ht,Wt=P((function(e){return{root:{position:"fixed"},content:{display:"flex",flexDirection:"column"},icon:{alignSelf:"center",width:80,height:80,marginBottom:e.spacing(1)},forceOpacity:{opacity:"1 !important"}}}),{name:"NoScript",index:1}),Gt=n(166),Ut=n.n(Gt),Vt=function(e){var t=Wt(e),n=e.className;return o.createElement("noscript",{suppressHydrationWarning:!0,className:j()(n,t.root)},o.createElement(De.a,{open:!0,disablePortal:!0,classes:{container:t.forceOpacity}},o.createElement(Fe.a,null,"Javascript is disabled"),o.createElement(ze.a,{className:t.content},o.createElement(Ut.a,{className:t.icon}),o.createElement(qe.a,null,"You need to enable JavaScript to run this app. Here are the"," ",o.createElement(Ke.a,{href:"https://www.enable-javascript.com/",target:"_blank",rel:"noopener noreferrer"},"instructions how to enable JavaScript in your web browser"),"."))))};Vt.defaultProps={};var Yt=Vt,Jt=Object(Ot.a)(Lt),_t=Object(Nt.a)({productionPrefix:"yar",disableGlobal:!0});var Xt=function(){return a.a.createElement(c.a,{store:T},a.a.createElement(Ct.b,{generateClassName:_t},a.a.createElement(xt.a,{theme:Jt},a.a.createElement(St.a,null,a.a.createElement(Yt,null),a.a.createElement(Mt.a,{loading:a.a.createElement(Ft,null),persistor:R},a.a.createElement(yt,null))))))},$t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Kt,Qt=document.getElementById("root"),Zt=a.a.createElement(a.a.StrictMode,null,a.a.createElement(Xt,null));(null===Qt||void 0===Qt?void 0:Qt.hasChildNodes)?(i.a.hydrate(Zt,Qt),null===(Kt=document.getElementById("jss-server-side"))||void 0===Kt||Kt.remove()):i.a.render(Zt,Qt);!function(e){if("serviceWorker"in navigator){if(new URL("/yar2048",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/yar2048","/service-worker.js");$t?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):qt(t,e)}))}}()}},[[181,1,2]]]);
//# sourceMappingURL=main.de5bc66f.chunk.js.map